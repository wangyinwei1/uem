import React from 'react';
import { observer, inject } from 'mobx-react';
import {
    HeatmapItem
} from '../components/HeatmapList';
import { message } from 'antd';
import styles from '../components/HeatmapList/HeatmapItem/index.scss';

@inject('frameStore', 'heatmapListStore')
@observer
export default class HeatmapList extends React.Component {
    componentDidMount() {
        const { onGetHeatmapList } = this.props.heatmapListStore;
        onGetHeatmapList();
    }
    clickHeatButton(){
        return document.querySelector('#pointButton').click();
    }
    render() {
        const { appId , platform, theme } = this.props.frameStore;
        const { dataList,onDeleteHeatMap } = this.props.heatmapListStore;
        const length = dataList.length;
        return (
            <div id="HeatmapList">
                {length == 0 && <div>
                    <div className={styles['no-heatMap']}>
                        <i className={cls('iconfont icon-jinggao')}></i>
                        {locale('您还没有定义热图哦，请到埋点界面定义热图')}
                        <a className={styles['heatButton']} onClick={this.clickHeatButton.bind(this)}>定义热图</a>
                        </div>
                    </div>
                }
                {dataList.map(item => 
                    <HeatmapItem
                        key={item.createTime} 
                        appId={appId} 
                        platform={platform}
                        theme={theme}
                        data={item}
                        onDeleteHeatMap={onDeleteHeatMap} 
                    />
                )}
            </div>
        );
    }
}
// mock数据
// const mockDataList = [{
            createTime:1505964629577,
            creator:"admin",
            name:"广通首页",
            page:"http://www.broada.com/",
            picUrl:"data:image/png;base64,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…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",
            url:"http://*/"
        }]